######################################################################
# Copyright (C) 2006 - present, Stephan Enderlein<stephan@freifunk-dresden.de
# GNU General Public License Version 3
#
#########################################################################

{
 "targets": [
# ------------- default values ------------------------------
# this block must come always first, because the first block is used
# as default
	{
		"name":"default", # target name
		"config":"",      # config file name

		"openwrt_rev":"30e2782e0647a837044ada77ce86b29c5af8a9f2",	# v21.02.2
		"openwrt_variant":"",			# creates a separate buildroot. use it for low-mem devices
							# where no kernel modules (e.g.: usb) must be included.
							# Note that selecting some packages as module could have
							# dependencies to kernel modules/libs, that are included
							# in image also if package is optional (ipk)
							# This value is added to config file name
							# Example value could be : "lowmem"

		"selector-config":"21.02",		# used to select config
		"selector-feeds":"21.02",		# used to select feeds
		"selector-patches":"21.02",		# used to select patches
		"selector-files":"21.02",

		# generates the feeds/feeds-[selector].conf
		# for short commit value use: git log --abbrev-commit


		"feeds" : [
			{"type":"src-link", 	"name":"ddmesh_own",	"src":"feeds-own" },
			{"type":"src-git", 	"name":"packages",	"src":"https://git.openwrt.org/feed/packages.git",	"rev":"ce0446269"}, # 21.02
			{"type":"src-git", 	"name":"routing",	"src":"https://git.openwrt.org/feed/routing.git",	"rev":"bdefc83"}    # 21.02
		  ],

		# install addional packages from feeds (see feeds.conf)
		"packages":["libpam", "libnetsnmp", "libusbmuxd", "libimobiledevice", "usbmuxd", "usbutils", "iperf3"],

		# apply additional target patches
		"target-patches":[""]
	},

# =================== specific targets =======================================================


# ---------- openwrt 18 -----------------------------------------------------------------------
	{
		"name":"ar71xx.tiny.lowmem",	# can be any name
		"config":"config.ar71xx.tiny.lowmem",
		"openwrt_rev":"5625f5bc36954d644cb80adf8de47854c65d91c3", # 18.06 08-11-2020
		"openwrt_variant":"lowmem",
		"selector-config":"18.06",		# used to select config
		"selector-feeds":"18.06",		# used to select feeds
		"selector-patches":"18.06",		# used to select patches
		"selector-files":"18.06",
		"feeds" : [
				{"type":"src-link", 	"name":"ddmesh_own",	"src":"feeds-own" },
				{"type":"src-git", 	"name":"packages",	"src":"https://git.openwrt.org/feed/packages.git",	"rev":"de3766173"},
				{"type":"src-git", 	"name":"routing",	"src":"https://git.openwrt.org/feed/routing.git",	"rev":"ff5100e"}
			  ],
		"packages":["libpam","libcap","libgnutls","libopenldap",
				"libidn2","libssh2","libnetsnmp",
				"libcap", "jansson", "kmod-cryptodev", "liblzma" ]
	},
	{
		"name":"ar71xx.generic.lowmem",	# can be any name
		"config":"config.ar71xx.generic.lowmem",
		"openwrt_rev":"5625f5bc36954d644cb80adf8de47854c65d91c3", # 18.06 08-11-2020
		"openwrt_variant":"lowmem",
		"selector-config":"18.06",		# used to select config
		"selector-feeds":"18.06",		# used to select feeds
		"selector-patches":"18.06",		# used to select patches
		"selector-files":"18.06",
		"feeds" : [
				{"type":"src-link", 	"name":"ddmesh_own",	"src":"feeds-own" },
				{"type":"src-git", 	"name":"packages",	"src":"https://git.openwrt.org/feed/packages.git",	"rev":"de3766173"},
				{"type":"src-git", 	"name":"routing",	"src":"https://git.openwrt.org/feed/routing.git",	"rev":"ff5100e"}
			  ],
		"packages":["libpam","libcap","libgnutls","libopenldap",
				"libidn2","libssh2","libnetsnmp",
				"libcap", "jansson", "kmod-cryptodev", "liblzma" ]
	},
	{
		"name":"ramips.rt305x.tiny.lowmem",	# can be any name
		"config":"config.ramips.rt305x.tiny.lowmem",
		"openwrt_rev":"5625f5bc36954d644cb80adf8de47854c65d91c3", # 18.06 08-11-2020
		"openwrt_variant":"lowmem",
		"selector-config":"18.06",		# used to select config
		"selector-feeds":"18.06",		# used to select feeds
		"selector-patches":"18.06",		# used to select patches
		"selector-files":"18.06",
		"feeds" : [
				{"type":"src-link", 	"name":"ddmesh_own",	"src":"feeds-own" },
				{"type":"src-git", 	"name":"packages",	"src":"https://git.openwrt.org/feed/packages.git",	"rev":"de3766173"},
				{"type":"src-git", 	"name":"routing",	"src":"https://git.openwrt.org/feed/routing.git",	"rev":"ff5100e"}
			  ],
		"packages":["libpam","libcap","libgnutls","libopenldap",
				"libidn2","libssh2","libnetsnmp",
				"libcap", "jansson", "kmod-cryptodev", "liblzma" ]
	},
# ---------- openwrt 21 -----------------------------------------------------------------------
	{
		"name":"x86.64.offloader",
		"config":"config.x86.64.offloader",
		"packages":["qemu", "libpam", "libgnutls", "libopenldap", "libidn2", "libssh2", "libcap", "liblzma", "libnetsnmp", "jansson", "zabbix" ]
	},
	{
		"name":"ramips.mt7620.small",
		"config":"config.ramips.mt7620.small"
	},
	{
		"name":"ramips.mt7621.generic",
		"config":"config.ramips.mt7621.generic"
	},
	{
		"name":"ramips.mt7621.offloader",
		"config":"config.ramips.mt7621.offloader"
	},
	{
		"name":"ramips.mt76x8.generic",
		"config":"config.ramips.mt76x8.generic"
	},
	{
		"name":"lantiq-xrx200.generic",
		"config":"config.lantiq-xrx200.generic"
	},
	{
		"name":"lantiq-xrx200.small",
		"config":"config.lantiq-xrx200.small"
	},
	{
		"name":"lantiq-xway.generic",
		"config":"config.lantiq-xway.generic"
	},
	{
		"name":"lantiq-xway.small",
		"config":"config.lantiq-xway.small"
	},
	{	# created for Orange Pi R1
		"name":"sunxi.cortexa7.offloader",
		"config":"config.sunxi.cortexa7.offloader"
	},
	{
		"name":"ath79.generic",
		"config":"config.ath79.generic"
	},
	{
		"name":"ath79.small",
		"config":"config.ath79.small"
	},
	{
		"name":"ath79.generic.gl-mifi",
		"config":"config.ath79.generic.gl-mifi"
	},
	{
		"name":"ath79.nand",
		"config":"config.ath79.nand"
	},
	{
		"name":"ath79.small.smallbuffers",
		"config":"config.ath79.small.smallbuffers"
	},
	{	# created for fritzbox 4040
		"name":"ipq40xx.generic",
		"config":"config.ipq40xx.generic"
	},
	{
		"name":"ipq40xx.generic.fritz-tffs-nand",
		"config":"config.ipq40xx.generic.fritz-tffs-nand"
	},
	{
		"name":"mpc85xx.p1020",
		"config":"config.mpc85xx.p1020"
	},
	{
		"name":"mediatek.mt7622.generic",
		"config":"config.mediatek.mt7622.generic",
		"openwrt_rev":"4f6f9caf1f054d9a52f50ecb766fb3aa9de8d429", #22.03.0-rc2

		"selector-config":"22.03",              # used to select config
                "selector-feeds":"22.03",               # used to select feeds
                "selector-patches":"22.03",             # used to select patches
                "selector-files":"22.03",

                "feeds" : [
                        {"type":"src-link",     "name":"ddmesh_own",    "src":"feeds-own" },
                        {"type":"src-git",      "name":"packages",      "src":"https://git.openwrt.org/feed/packages.git",      "rev":"b708cf5"},   # 22.03
                        {"type":"src-git",      "name":"routing",       "src":"https://git.openwrt.org/feed/routing.git",       "rev":"f6d2b09"}    # 22.03
		],

                # install addional packages from feeds (see feeds.conf)
                "packages":["libpam", "libnetsnmp", "libusbmuxd", "libimobiledevice", "usbmuxd", "usbutils"],

                # apply additional target patches
                "target-patches":[""]

	}

 ]
}
